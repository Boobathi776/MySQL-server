ğŸ”¥ Trigger Practice Questions (Based on your InventoryDB)
ğŸ” 1. Auto-update stock on order
â“ When a new row is inserted into OrderDetails, reduce the itemâ€™s stock in Inventory.

ğŸ“Œ Challenge: Prevent stock going negative.

ğŸ§® 2. Recalculate total amount
â“ When OrderDetails is inserted, updated, or deleted, automatically update TotalAmount in Orders.

ğŸ“Œ Hint: Use AFTER INSERT, UPDATE, DELETE.

ğŸ“ 3. Stock change log
â“ Every time stock changes (due to order or return), insert a record into StockLog.

ğŸ“Œ Columns: ItemID, QuantityChanged, ChangeType (e.g., Sale, Return), ReferenceID, ChangedBy.

âŒ 4. Block blacklisted customer from ordering
â“ If a blacklisted customer tries to place an order, prevent it using an INSTEAD OF INSERT trigger on Orders.

ğŸ”„ 5. Trigger restock alert
â“ If inserting an OrderDetails reduces stock below ReOrderLevel, auto-insert a record into RestockRequests (only if not already pending).

ğŸ“Š 6. Track price updates
â“ When Inventory.Price is updated, log the old and new value in ItemAudit.

ğŸ“Œ Columns: ChangeType = 'Price Update', OldValue, NewValue, ChangedBy.

ğŸ§¼ 7. Return stock adjustment
â“ When a return is processed in the Returns table, increase stock of that item.

Also, log it in StockLog with ChangeType = 'Return'.

ğŸ‘€ 8. Flag fraudulent behavior
â“ If a customer returns more than 3 items in the last 7 days, insert a record in FraudAlerts.

ğŸ“Œ Trigger on Returns.

ğŸš« 9. Prevent excessive discounting
â“ If any OrderDetails.Price is more than 30% lower than the current price of that item in Inventory, reject the insert.

ğŸ“Œ 10. Audit quantity changes
â“ If the Inventory.Stock is manually updated (via update query), log both old and new values into ItemAudit.

âš™ï¸ Bonus Ideas for Triggers
Scenario	Trigger Target
Cancel an order â†’ Restock inventory	DELETE ON Orders
Detect tampering â†’ Price suddenly drops too much	UPDATE ON Inventory
RestockRequest status change to â€œApprovedâ€ â†’ Increase inventory	UPDATE ON RestockRequests

Would you like sample code for any one of these first?









